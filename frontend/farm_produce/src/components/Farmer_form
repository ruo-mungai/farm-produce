import React from 'react'
import TextField from '@material-ui/core/TextField'
import Button from '@material-ui/core/Button'
import {useState} from 'react'


function FarmerForm({classes , textStyle, button,newFarmer}) {

  const [name, setName] = useState("")
  const [tel, setTel] = useState("")
  const [location, setLocation] = useState("")
  
 
  

   function handlecSubmit(event) {
    event.preventDefault();
    let newFamer={
      name:name,
      tel:tel,
      location:location,
    }

  
    fetch("http://localhost:9292/", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify(newFarmer)
    })
    .then(response => response.json())
    .then(data => {
     newFamer(data) 
    })
    setName("")
    setTel("")
    setLocation("")
   
  }
  
  return (
    <div >
        <h2>Add Farmer Form</h2>
       <TextField id="outlined-basic" label="Name" variant="outlined" className={textStyle} onChange={(e) => setName(e.target.value)} value={name} />
       <TextField id="outlined-basic" label="Tel" variant="outlined" className={textStyle} onChange={(e) => setTel(e.target.value)} value={tel} />
       <TextField id="outlined-basic" label="Location" variant="outlined" className={textStyle} onChange={(e) => setLocation(e.target.value)} value={location}  />
        <Button variant="contained" color="secondary" className={button} onClick={handlecSubmit}> New Farmer</Button >

    </div>
  )
}
export default FarmerForm